let data = [
  {
    properties: {
      scoreA: 15604,
      scoreB: 42627,
      scoreC: 81810,
      scoreD: 88,
      scoreE: 27912,
      scoreF: 95363,
      scoreG: 79955,
      scoreH: 44313,
      scoreI: 35875,
      scoreJ: 13636,
      scoreK: 40801,
      scoreL: 23941,
      scoreM: 44873,
      scoreN: 13981,
      scoreO: 8794,
      scoreP: 5684,
      scoreQ: 18407,
      scoreR: 25934,
      scoreS: 31658,
      scoreT: 58521,
      scoreU: 82307,
      scoreV: 55969,
      scoreW: 50950,
      scoreX: 310,
      scoreY: 57157,
      scoreZ: 74676,
    },
    deviceProps: { name: 'Murray Willms', type: 'Ios' },
    timestamp: '2022-05-12T17:41:15.761Z',
  },
  {
    properties: {
      scoreA: 60955,
      scoreB: 86292,
      scoreC: 51524,
      scoreD: 48069,
      scoreE: 92851,
      scoreF: 27849,
      scoreG: 28272,
      scoreH: 80426,
      scoreI: 7372,
      scoreJ: 14288,
      scoreK: 97046,
      scoreL: 52049,
      scoreM: 27509,
      scoreN: 71555,
      scoreO: 48659,
      scoreP: 71263,
      scoreQ: 37557,
      scoreR: 58926,
      scoreS: 24928,
      scoreT: 10125,
      scoreU: 36063,
      scoreV: 81649,
      scoreW: 83205,
      scoreX: 49915,
      scoreY: 68435,
      scoreZ: 96069,
    },
    deviceProps: { name: 'Marisa Dooley', type: 'Android' },
    location: [48.82473, 12.13942],
    timestamp: '2022-06-04T17:58:53.589Z',
  },
  {
    properties: {
      scoreA: 89141,
      scoreB: 62140,
      scoreC: 1504,
      scoreD: 28783,
      scoreE: 20150,
      scoreF: 27123,
      scoreG: 49725,
      scoreH: 24358,
      scoreI: 29680,
      scoreJ: 86606,
      scoreK: 2909,
      scoreL: 2077,
      scoreM: 52496,
      scoreN: 39523,
      scoreO: 51673,
      scoreP: 71115,
      scoreQ: 92238,
      scoreR: 36857,
      scoreS: 88598,
      scoreT: 32148,
      scoreU: 65408,
      scoreV: 16634,
      scoreW: 76820,
      scoreX: 40640,
      scoreY: 24549,
      scoreZ: 57750,
    },
    deviceProps: { name: 'Corene Stehr', type: 'Ios' },
    timestamp: '2022-05-03T19:28:14.257Z',
  },
  {
    properties: {
      scoreA: 99999,
      scoreB: 62140,
      scoreC: 1504,
      scoreD: 28783,
      scoreE: 20150,
      scoreF: 27123,
      scoreG: 49725,
      scoreH: 24358,
      scoreI: 29680,
      scoreJ: 86606,
      scoreK: 2909,
      scoreL: 2077,
      scoreM: 52496,
      scoreN: 39523,
      scoreO: 51673,
      scoreP: 71115,
      scoreQ: 92238,
      scoreR: 36857,
      scoreS: 88598,
      scoreT: 32148,
      scoreU: 65408,
      scoreV: 16634,
      scoreW: 76820,
      scoreX: 40640,
      scoreY: 24549,
      scoreZ: 57750,
    },
    deviceProps: { name: 'Liy', type: 'Ios' },
    timestamp: '2022-05-11T19:28:14.257Z',
  },
  {
    properties: {
      scoreA: 43567,
      scoreB: 62140,
      scoreC: 1504,
      scoreD: 28783,
      scoreE: 20150,
      scoreF: 27123,
      scoreG: 49725,
      scoreH: 24358,
      scoreI: 29680,
      scoreJ: 86606,
      scoreK: 2909,
      scoreL: 2077,
      scoreM: 52496,
      scoreN: 39523,
      scoreO: 51673,
      scoreP: 71115,
      scoreQ: 92238,
      scoreR: 36857,
      scoreS: 88598,
      scoreT: 32148,
      scoreU: 65408,
      scoreV: 16634,
      scoreW: 76820,
      scoreX: 40640,
      scoreY: 24549,
      scoreZ: 57750,
    },
    deviceProps: { name: 'So', type: 'Ios' },
    timestamp: '2022-05-12T19:28:14.257Z',
  },
  {
    properties: {
      scoreA: 33433,
      scoreB: 62140,
      scoreC: 1504,
      scoreD: 28783,
      scoreE: 20150,
      scoreF: 27123,
      scoreG: 49725,
      scoreH: 24358,
      scoreI: 29680,
      scoreJ: 86606,
      scoreK: 2909,
      scoreL: 2077,
      scoreM: 52496,
      scoreN: 39523,
      scoreO: 51673,
      scoreP: 71115,
      scoreQ: 92238,
      scoreR: 36857,
      scoreS: 88598,
      scoreT: 32148,
      scoreU: 65408,
      scoreV: 16634,
      scoreW: 76820,
      scoreX: 40640,
      scoreY: 24549,
      scoreZ: 57750,
    },
    deviceProps: { name: 'Venlu', type: 'Ios' },
    timestamp: '2022-05-12T19:28:14.257Z',
  },
]

// let property = 'scoreA'
// let average =
//   arr
//     .map((item) => item.properties[property])
//     .reduce((previousValue, currentValue) => previousValue + currentValue, 0) /
//   arr.length
// console.log(average)

// console.log(arr.map((item) => item.properties[property]))
// console.log(average)

// const property: string = 'scoreA'
// const average: number =
//   dataArray
//     .map((item: any) => item.properties[property])
//     .reduce((prevVal: number, currVal: number) => prevVal + currVal, 0) /
//   dataArray.length
// console.log(average)
// const deviceNames: Array<string> = ['Ios', 'Android']
// const property = 'scoreA'
// const newArray = dataArray
//   .filter((item: any) => item.deviceProps.type == deviceNames[0])
//   .map((item) => item.properties[property])

// console.log(newArray)

// console.log(getMaxes(newArray, 3))
// function getMaxes(input: Array<number>, count: number) {
//   let output: Array<number> = []
//   for (let i = 0; i < input.length; i++) {
//     output.push(input[i])
//     if (output.length > count) {
//       output.sort((a, b) => b - a)
//       output.pop()
//     }
//   }
//   return output
// }

// const date = '2022-05-12T17:58:53.589Z'
// const reg = /^\d{4}-\d{1,2}-\d{1,2}/
// const regDate: any = date.match(reg)
// // console.log(regDate[0])
// // dataArray.map((item: any) => {
// //   if (item.properties.timestamp.test(reg) === regDate) console.log(item)
// // })
// console.log(dataArray[0]['timestamp'])

// for (let i = 0; i < dataArray.length; i++) {
//   if (dataArray[i]['timestamp'].includes(regDate)) {
//     console.log(dataArray[i])
//   }
//   // console.log(dataArray[i]['timestamp'].includes(regDate))
// }

let rankArray = new Array(3).fill(0)
// let newArray = [3, 5, 1]
// console.log(newArray[newArray.length - 1])
// // newArray.sort((a, b) => a - b)
// // console.log(newArray)
const DeviceNames: Array<string> = ['Ios', 'Android']
const property = 'scoreA'

for (let i = 0; i < data.length; i++) {
  if (data[i].deviceProps.type === DeviceNames[0]) {
    rankArray.sort((a, b) => b - a)
    if (data[i].properties[property] > rankArray[rankArray.length - 1]) {
      rankArray[rankArray.length - 1] = data[i].properties[property]
    }
  }
}
console.log(rankArray)
